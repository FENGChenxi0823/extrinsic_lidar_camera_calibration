clear; clc;

% Single variable called point_cloud
% mat_file_path = '../repo/LiDARTag_data/velodyne_points-lab8-closer-big--2019-09-06-15-28.mat';

path = "/home/chenxif/Documents/me590/Calibration/IntrinsicCalibration/extracted_tags/";
mat_file_path = {path+'velodyne_points-Intrinsic-LargeTag--2019-11-21-22-04.mat',...
                 path+'velodyne_points-Intrinsic-SmallTag--2019-11-21-22-00.mat',...
                 path+'velodyne_points-Intrinsic4-SmallTag--2019-11-22-22-54.mat',...
                 path+'velodyne_points-Intrinsic5-LargeTag--2019-11-22-23-02.mat',...
                 path+'velodyne_points-Intrinsic5-SmallTag--2019-11-22-23-00.mat',...
                 path+'velodyne_points-Intrinsic-further-LargeTag--2019-11-22-23-05.mat',...
                 path+'velodyne_points-Intrinsic-further-SmallTag--2019-11-22-23-09.mat',...
                 path+'velodyne_points-Intrinsic-further2-LargeTag--2019-11-22-23-15.mat',...
                 path+'velodyne_points-Intrinsic-further2-SmallTag--2019-11-22-23-17.mat',...
                 path+'velodyne_points-upper1-SmallTag--2019-12-05-20-13.mat',...
                 path+'velodyne_points-upper2-SmallTag--2019-12-05-20-16.mat',...
                 path+'velodyne_points-upper3-SmallTag--2019-12-05-20-19.mat',...
                 path+'velodyne_points-upper4-SmallTag--2019-12-05-20-22.mat',...
                 path+'velodyne_points-upper5-SmallTag--2019-12-05-20-23.mat',...
                 path+'velodyne_points-upper6-SmallTag--2019-12-05-20-26.mat',...
                 path+'velodyne_points-upper7-SmallTag--2019-12-05-20-29.mat',...
                 path+'velodyne_points-upper8-SmallTag--2019-12-05-20-29.mat'};
% mat_file_path = {'/home/brucebot/workspace/griztag/src/matlab/matlab/LiDARTag_data/velodyne_points-wavefield3-big--2019-09-07-19-04.mat'};
opt_formulation = "Spherical"; % Lie or Spherical
%%
if (opt_formulation == "Lie")
    estimateIntrinsicLie(mat_file_path);
elseif (opt_formulation == "Spherical")
     estimateIntrinsicSpherical(mat_file_path);
end